"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/chat",{

/***/ "./pages/chat.js":
/*!***********************!*\
  !*** ./pages/chat.js ***!
  \***********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __N_SSP: function() { return /* binding */ __N_SSP; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiMenu_FiSend_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=FiMenu,FiSend!=!react-icons/fi */ \"__barrel_optimize__?names=FiMenu,FiSend!=!./node_modules/react-icons/fi/index.mjs\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/react */ \"./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n// pages/chat.js\n\nvar _s = $RefreshSig$();\n\n// Example using react-icons\n\n\n\nconst Chat = ()=>{\n    _s();\n    const { data: session, status } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_2__.useSession)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const chatBoxRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const currentBotMessageIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const accumulatedTextRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(\"\"); // Use a ref to track accumulated text across renders\n    const [isFirstMessageSent, setIsFirstMessageSent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Redirect to login page if not authenticated\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (status === \"unauthenticated\") {\n            router.push(\"/\");\n        }\n    }, [\n        status,\n        router\n    ]);\n    // State for streaming response\n    const [streamingResponse, setStreamingResponse] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isStreaming, setIsStreaming] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Function for sending message to chatbot API\n    const sendMessage = async ()=>{\n        if (!input.trim()) return;\n        const newUserMessage = {\n            id: Date.now(),\n            text: input,\n            sender: \"user\"\n        };\n        setMessages((prev)=>[\n                ...prev,\n                newUserMessage\n            ]);\n        setInput(\"\");\n        setIsLoading(true);\n        setError(null);\n        setStreamingResponse(\"\");\n        setIsStreaming(true);\n        accumulatedTextRef.current = \"\"; // Reset accumulated text\n        try {\n            // Create a temporary bot message for streaming\n            const tempBotId = Date.now() + 1;\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: tempBotId,\n                        text: \"\",\n                        sender: \"bot\",\n                        isStreaming: true\n                    }\n                ]);\n            // Store the ID in the ref for later access\n            currentBotMessageIdRef.current = tempBotId;\n            console.log(\"Created new bot message with ID: \".concat(tempBotId));\n            // Send the request to initiate streaming\n            // Create a URL with the message as a query parameter for the POST request\n            const encodedMessage = encodeURIComponent(input);\n            // Create a proper URL for the EventSource that includes the message\n            let eventSourceUrl = \"/api/chat-stream?message=\".concat(encodedMessage, \"&t=\").concat(Date.now());\n            if (!isFirstMessageSent) {\n                eventSourceUrl += \"&startNew=true\";\n                setIsFirstMessageSent(true); // Mark that the first message has been sent\n            }\n            const eventSource = new EventSource(eventSourceUrl);\n            let connectionTimeout = null;\n            // Set a longer timeout to handle cases where the connection might hang\n            connectionTimeout = setTimeout(()=>{\n                console.log(\"Connection timeout (30s) - closing EventSource\");\n                if (eventSource.readyState !== 2) {\n                    eventSource.close();\n                    // If we have accumulated text, use it\n                    if (accumulatedTextRef.current.length > 0) {\n                        console.log(\"Using accumulated text (\".concat(accumulatedTextRef.current.length, \" chars) after timeout\"));\n                        finalizeBotMessage(accumulatedTextRef.current);\n                    } else {\n                        setError(\"Connection timed out. Please try again.\");\n                        setIsLoading(false);\n                        setIsStreaming(false);\n                    }\n                }\n            }, 30000); // 30 second timeout - give it more time\n            // Set up event handlers\n            eventSource.onmessage = (event)=>{\n                try {\n                    // Clear the timeout on any message\n                    if (connectionTimeout) {\n                        clearTimeout(connectionTimeout);\n                        connectionTimeout = setTimeout(()=>{\n                            console.log(\"Message timeout (30s) - closing EventSource\");\n                            eventSource.close();\n                            // If we have accumulated text, use it\n                            if (accumulatedTextRef.current.length > 0) {\n                                console.log(\"Using accumulated text (\".concat(accumulatedTextRef.current.length, \" chars) after message timeout\"));\n                                finalizeBotMessage(accumulatedTextRef.current);\n                            } else {\n                                setError(\"Response timed out. Please try again.\");\n                                setIsLoading(false);\n                                setIsStreaming(false);\n                            }\n                        }, 30000); // Reset timeout to 30 seconds\n                    }\n                    console.log(\"Raw event data received (length: \".concat(event.data.length, \"):\"), event.data);\n                    let data;\n                    try {\n                        data = JSON.parse(event.data);\n                        console.log(\"Received event data:\", data);\n                    } catch (parseError) {\n                        console.error(\"Error parsing event data:\", event.data, parseError);\n                        return;\n                    }\n                    if (data.type === \"content\" && data.content) {\n                        // Accumulate the streaming text\n                        accumulatedTextRef.current += data.content;\n                        console.log(\"Received content chunk (length: \".concat(data.content.length, \") for message ID: \").concat(currentBotMessageIdRef.current));\n                        console.log(\"Accumulated text length: \".concat(accumulatedTextRef.current.length));\n                        // Restore incremental updates for better UX\n                        setStreamingResponse(accumulatedTextRef.current);\n                        // Update the message incrementally for visual feedback\n                        setMessages((prev)=>{\n                            const updatedMessages = prev.map((msg)=>msg.id === currentBotMessageIdRef.current ? {\n                                    ...msg,\n                                    text: accumulatedTextRef.current,\n                                    hasEvents: accumulatedTextRef.current.includes(\"\\uD83D\\uDCC5\") || accumulatedTextRef.current.includes(\"\\uD83D\\uDCC6\")\n                                } : msg);\n                            console.log(\"Updated message during streaming, length: \".concat(accumulatedTextRef.current.length));\n                            return updatedMessages;\n                        });\n                    } else if (data.type === \"processing\") {\n                        // Handle processing state - show a processing indicator\n                        console.log(\"Processing tool calls:\", data.content);\n                        // Store the current accumulated text before processing\n                        const currentText = accumulatedTextRef.current;\n                        try {\n                            setMessages((prev)=>prev.map((msg)=>{\n                                    console.log(\"Updated message with processing state\");\n                                    return msg.id === currentBotMessageIdRef.current ? {\n                                        ...msg,\n                                        text: currentText + \"\\n\\n⚙️ \" + (data.content || \"Processing...\"),\n                                        isProcessing: true\n                                    } : msg;\n                                }));\n                        } catch (stateError) {\n                            console.error(\"Error updating message state for processing:\", stateError);\n                        }\n                    } else if (data.type === \"end\") {\n                        // Streaming completed\n                        // Finalize the bot message\n                        console.log(\"End event received with accumulated text length: \".concat(accumulatedTextRef.current.length));\n                        // If we have no accumulated text but we're getting an end event,\n                        // this might be after a tool call where the connection was reset\n                        if (accumulatedTextRef.current.length === 0) {\n                            console.log(\"End event received with no accumulated text - possible tool call issue\");\n                            // Check if we have a pending message that's in processing state\n                            setMessages((prev)=>{\n                                const currentMsg = prev.find((m)=>m.id === currentBotMessageIdRef.current);\n                                if (currentMsg && currentMsg.isProcessing) {\n                                    console.log(\"Found message in processing state, keeping it visible\");\n                                    return prev.map((m)=>m.id === currentBotMessageIdRef.current ? {\n                                            ...m,\n                                            text: m.text || \"Processing your request...\",\n                                            isStreaming: false,\n                                            isProcessing: true // Keep processing indicator\n                                        } : m);\n                                }\n                                return prev;\n                            });\n                            // Don't close the connection yet, wait for more data\n                            console.log(\"Ignoring premature end event, waiting for more data\");\n                            return;\n                        }\n                        // Clear any pending timeout\n                        if (connectionTimeout) {\n                            clearTimeout(connectionTimeout);\n                            connectionTimeout = null;\n                        }\n                        // Use our helper function to finalize the message\n                        finalizeBotMessage(accumulatedTextRef.current);\n                        // Close the connection\n                        eventSource.close();\n                    } else if (data.type === \"error\") {\n                        throw new Error(data.content || \"Error in streaming response\");\n                    }\n                } catch (err) {\n                    console.error(\"Error parsing stream data:\", err);\n                    eventSource.close();\n                    // Clear any pending timeout\n                    if (connectionTimeout) {\n                        clearTimeout(connectionTimeout);\n                        connectionTimeout = null;\n                    }\n                    setError(\"Oops! Something went wrong with the streaming response.\");\n                    setIsLoading(false);\n                    setIsStreaming(false);\n                }\n            };\n            eventSource.onerror = (err)=>{\n                console.error(\"EventSource error:\", err);\n                eventSource.close();\n                // Clear any pending timeout\n                if (connectionTimeout) {\n                    clearTimeout(connectionTimeout);\n                    connectionTimeout = null;\n                }\n                // If we have accumulated text, use it despite the error\n                if (accumulatedTextRef.current.length > 0) {\n                    console.log(\"Using accumulated text (\".concat(accumulatedTextRef.current.length, \" chars) after connection error\"));\n                    finalizeBotMessage(accumulatedTextRef.current);\n                } else {\n                    setError(\"Connection error. Please try again.\");\n                    setIsLoading(false);\n                    setIsStreaming(false);\n                }\n            };\n        } catch (error) {\n            console.error(\"Error sending message:\", error);\n            setError(\"Oops! Something went wrong. Please try again.\");\n            setIsLoading(false);\n            setIsStreaming(false);\n        }\n    };\n    // Helper function to finalize the bot message with the accumulated text\n    const finalizeBotMessage = (text)=>{\n        console.log(\"Finalizing bot message with text length: \".concat(text.length));\n        // Store the text in a local variable to avoid closure issues\n        const finalText = text;\n        // Add a delay before finalizing to ensure all chunks are received\n        setTimeout(()=>{\n            // If we have text, use it\n            if (finalText && finalText.length > 0) {\n                // Update the message with the final text\n                try {\n                    setMessages((prev)=>prev.map((msg)=>msg.id === currentBotMessageIdRef.current ? {\n                                ...msg,\n                                text: finalText,\n                                isStreaming: false,\n                                isProcessing: false,\n                                hasEvents: finalText.includes(\"\\uD83D\\uDCC5\") || finalText.includes(\"\\uD83D\\uDCC6\")\n                            } : msg));\n                    console.log(\"Successfully updated message with final text\");\n                } catch (updateError) {\n                    console.error(\"Error updating message with final text:\", updateError);\n                }\n            } else {\n                // If we don't have text, show an error message\n                try {\n                    setMessages((prev)=>prev.map((msg)=>msg.id === currentBotMessageIdRef.current ? {\n                                ...msg,\n                                text: \"No response received. Please try again.\",\n                                isStreaming: false,\n                                isProcessing: false\n                            } : msg));\n                    console.log(\"Updated message with 'No response received'\");\n                } catch (errorUpdateError) {\n                    console.error(\"Error updating message with error text:\", errorUpdateError);\n                }\n            }\n            // Update state\n            setIsLoading(false);\n            setIsStreaming(false);\n        }, 3000); // Add a 3-second delay before finalizing\n    };\n    const handleInputChange = (e)=>{\n        setInput(e.target.value);\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage();\n        }\n    };\n    // Scroll to bottom when new messages arrive\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (chatBoxRef.current) {\n            chatBoxRef.current.scrollTop = chatBoxRef.current.scrollHeight;\n        }\n    }, [\n        messages,\n        isLoading,\n        error\n    ]);\n    // Show loading state while checking authentication\n    if (status === \"loading\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex justify-center items-center h-screen text-gray-600\",\n            children: \"Loading...\"\n        }, void 0, false, {\n            fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n            lineNumber: 343,\n            columnNumber: 7\n        }, undefined);\n    }\n    // If not authenticated, don't render anything (will redirect to login)\n    if (status === \"unauthenticated\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex justify-center items-center h-screen text-gray-600\",\n            children: \"Redirecting to login...\"\n        }, void 0, false, {\n            fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n            lineNumber: 352,\n            columnNumber: 7\n        }, undefined);\n    }\n    // Only render the chat UI if authenticated\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-5\",\n        children: [\n            \" \",\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center mb-4 p-2 bg-white rounded-lg shadow-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"text-gray-700 text-xl mr-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMenu_FiSend_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiMenu, {}, void 0, false, {\n                            fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                            lineNumber: 364,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                        lineNumber: 363,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center\",\n                        children: (session === null || session === void 0 ? void 0 : session.user) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: session.user.image,\n                                    alt: \"Profile\",\n                                    className: \"w-8 h-8 rounded-full mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                    lineNumber: 369,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium text-gray-700\",\n                                    children: session.user.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                    lineNumber: 374,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                        lineNumber: 366,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                lineNumber: 362,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: chatBoxRef,\n                className: \"bg-gray-100 rounded-2xl p-5 max-h-[300px] min-h-[100px] overflow-y-auto mb-4 border border-gray-200\" // Added border\n                ,\n                children: [\n                    messages.length === 0 && !isLoading && !error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-gray-500 text-sm\",\n                        children: \"Ask me to manage your calendar events!\"\n                    }, void 0, false, {\n                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                        lineNumber: 387,\n                        columnNumber: 13\n                    }, undefined),\n                    messages.map((msg)=>// Styles previously from .message and specific types\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-3 p-3 rounded-xl max-w-[80%] break-words \".concat(msg.sender === \"user\" ? \"bg-blue-500 text-white ml-auto\" // .user styles\n                             : \"bg-gray-600 text-white mr-auto\" // .bot styles \n                            , \" \").concat(msg.isStreaming ? \"border-l-4 border-yellow-400\" : \"\", \" \").concat(msg.isProcessing ? \"border-l-4 border-blue-400\" : \"\"),\n                            children: msg.hasEvents ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"whitespace-pre-wrap\",\n                                children: [\n                                    msg.text.split(\"\\n\").map((line, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"\".concat(line.startsWith(\"\\uD83D\\uDCC5\") || line.startsWith(\"\\uD83D\\uDCC6\") ? \"font-bold\" : \"\"),\n                                            children: line\n                                        }, index, false, {\n                                            fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                            lineNumber: 402,\n                                            columnNumber: 29\n                                        }, undefined)),\n                                    msg.isStreaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"inline-block w-2 h-4 ml-1 bg-yellow-400 animate-pulse\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                        lineNumber: 409,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    msg.isProcessing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"inline-block w-2 h-4 ml-1 bg-blue-400 animate-pulse\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                        lineNumber: 412,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                lineNumber: 400,\n                                columnNumber: 21\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"whitespace-pre-wrap\",\n                                children: [\n                                    msg.text,\n                                    msg.isStreaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"inline-block w-2 h-4 ml-1 bg-yellow-400 animate-pulse\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                        lineNumber: 419,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    msg.isProcessing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"inline-block w-2 h-4 ml-1 bg-blue-400 animate-pulse\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                        lineNumber: 422,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                lineNumber: 416,\n                                columnNumber: 21\n                            }, undefined)\n                        }, msg.id, false, {\n                            fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                            lineNumber: 391,\n                            columnNumber: 13\n                        }, undefined)),\n                    isLoading && // Styles previously from .loading and .dot\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-start items-center h-10 my-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex space-x-1.5 p-2 bg-gray-600 rounded-full\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"w-2 h-2 bg-white rounded-full animate-bounce [animation-delay:-0.3s]\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                    lineNumber: 434,\n                                    columnNumber: 21\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"w-2 h-2 bg-white rounded-full animate-bounce [animation-delay:-0.15s]\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                    lineNumber: 435,\n                                    columnNumber: 21\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"w-2 h-2 bg-white rounded-full animate-bounce\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                                    lineNumber: 436,\n                                    columnNumber: 21\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                            lineNumber: 433,\n                            columnNumber: 18\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                        lineNumber: 432,\n                        columnNumber: 13\n                    }, undefined),\n                    error && // Styles previously from .error\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-3 p-3 rounded-xl max-w-[80%] bg-red-500 text-white mx-auto text-center text-sm\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                        lineNumber: 444,\n                        columnNumber: 14\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                lineNumber: 382,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gray-100 p-2 rounded-full flex items-center transition-shadow duration-300 focus-within:ring-2 focus-within:ring-blue-500 border border-gray-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        placeholder: \"Ask about your calendar...\",\n                        value: input,\n                        onChange: handleInputChange,\n                        onKeyDown: handleKeyDown,\n                        disabled: isLoading,\n                        className: \"bg-transparent border-none text-gray-800 flex-grow text-base p-2 outline-none placeholder-gray-500 disabled:opacity-60\"\n                    }, void 0, false, {\n                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                        lineNumber: 453,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: sendMessage,\n                        disabled: isLoading || !input.trim(),\n                        className: \"text-2xl p-2 rounded-full text-blue-500 bg-transparent border-none transition-transform duration-300 hover:scale-110 hover:bg-blue-100 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:bg-transparent\",\n                        \"aria-label\": \"Send message\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMenu_FiSend_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiSend, {}, void 0, false, {\n                            fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                            lineNumber: 469,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                        lineNumber: 463,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n                lineNumber: 451,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ahnafahsan/Desktop/GCalendarApp/pages/chat.js\",\n        lineNumber: 360,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Chat, \"SE9eIXFFhQDyp/2/p+3ggEPwcFY=\", false, function() {\n    return [\n        next_auth_react__WEBPACK_IMPORTED_MODULE_2__.useSession,\n        next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter\n    ];\n});\n_c = Chat;\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Chat);\nvar _c;\n$RefreshReg$(_c, \"Chat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7Ozs7Ozs7O29CQU0zQnhFLFNBQ0ksZ0NBQWdDO2tDQUNoQyw4REFBQ3VFO3dCQUFJQyxXQUFVO2tDQUNWeEU7Ozs7Ozs7Ozs7OzswQkFNWiw4REFBQ3VFO2dCQUFJQyxXQUFVOztrQ0FFYiw4REFBQzVFO3dCQUNDOEMsTUFBSzt3QkFDTDZDLGFBQVk7d0JBQ1p2QixPQUFPcEU7d0JBQ1A0RixVQUFVM0I7d0JBQ1Y0QixXQUFXeEI7d0JBQ1h5QixVQUFVNUY7d0JBQ1YwRSxXQUFVOzs7Ozs7a0NBR1osOERBQUNDO3dCQUNDa0IsU0FBUy9FO3dCQUNUOEUsVUFBVTVGLGFBQWEsQ0FBQ0YsTUFBTWlCLElBQUk7d0JBQ2xDMkQsV0FBVTt3QkFDVm9CLGNBQVc7a0NBRVgsNEVBQUMzRyx1RkFBTUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLakI7R0FoZE1JOztRQUM4QkYsdURBQVVBO1FBQzdCQyxrREFBU0E7OztLQUZwQkM7O0FBa2ROLCtEQUFlQSxJQUFJQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL2NoYXQuanM/NGNjOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9jaGF0LmpzXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuLy8gRXhhbXBsZSB1c2luZyByZWFjdC1pY29uc1xuaW1wb3J0IHsgRmlTZW5kLCBGaU1lbnUgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XG5pbXBvcnQgeyB1c2VTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgvbmV4dCc7XG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJy4vYXBpL2F1dGgvWy4uLm5leHRhdXRoXSc7XG5cbmNvbnN0IENoYXQgPSAoKSA9PiB7XG4gIGNvbnN0IHsgZGF0YTogc2Vzc2lvbiwgc3RhdHVzIH0gPSB1c2VTZXNzaW9uKCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGNoYXRCb3hSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGN1cnJlbnRCb3RNZXNzYWdlSWRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGFjY3VtdWxhdGVkVGV4dFJlZiA9IHVzZVJlZignJyk7IC8vIFVzZSBhIHJlZiB0byB0cmFjayBhY2N1bXVsYXRlZCB0ZXh0IGFjcm9zcyByZW5kZXJzXG4gIGNvbnN0IFtpc0ZpcnN0TWVzc2FnZVNlbnQsIHNldElzRmlyc3RNZXNzYWdlU2VudF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIGlmIG5vdCBhdXRoZW50aWNhdGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHN0YXR1cyA9PT0gJ3VuYXV0aGVudGljYXRlZCcpIHtcbiAgICAgIHJvdXRlci5wdXNoKCcvJyk7XG4gICAgfVxuICB9LCBbc3RhdHVzLCByb3V0ZXJdKTtcblxuICAvLyBTdGF0ZSBmb3Igc3RyZWFtaW5nIHJlc3BvbnNlXG4gIGNvbnN0IFtzdHJlYW1pbmdSZXNwb25zZSwgc2V0U3RyZWFtaW5nUmVzcG9uc2VdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNTdHJlYW1pbmcsIHNldElzU3RyZWFtaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIEZ1bmN0aW9uIGZvciBzZW5kaW5nIG1lc3NhZ2UgdG8gY2hhdGJvdCBBUElcbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpbnB1dC50cmltKCkpIHJldHVybjtcblxuICAgIGNvbnN0IG5ld1VzZXJNZXNzYWdlID0geyBpZDogRGF0ZS5ub3coKSwgdGV4dDogaW5wdXQsIHNlbmRlcjogJ3VzZXInIH07XG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdVc2VyTWVzc2FnZV0pO1xuICAgIHNldElucHV0KCcnKTtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgc2V0U3RyZWFtaW5nUmVzcG9uc2UoJycpOyBcbiAgICBzZXRJc1N0cmVhbWluZyh0cnVlKTtcbiAgICBhY2N1bXVsYXRlZFRleHRSZWYuY3VycmVudCA9ICcnOyAvLyBSZXNldCBhY2N1bXVsYXRlZCB0ZXh0XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ3JlYXRlIGEgdGVtcG9yYXJ5IGJvdCBtZXNzYWdlIGZvciBzdHJlYW1pbmdcbiAgICAgIGNvbnN0IHRlbXBCb3RJZCA9IERhdGUubm93KCkgKyAxO1xuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCB7XG4gICAgICAgIGlkOiB0ZW1wQm90SWQsXG4gICAgICAgIHRleHQ6ICcnLFxuICAgICAgICBzZW5kZXI6ICdib3QnLFxuICAgICAgICBpc1N0cmVhbWluZzogdHJ1ZVxuICAgICAgfV0pO1xuICAgICAgXG4gICAgICAvLyBTdG9yZSB0aGUgSUQgaW4gdGhlIHJlZiBmb3IgbGF0ZXIgYWNjZXNzXG4gICAgICBjdXJyZW50Qm90TWVzc2FnZUlkUmVmLmN1cnJlbnQgPSB0ZW1wQm90SWQ7XG4gICAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCBuZXcgYm90IG1lc3NhZ2Ugd2l0aCBJRDogJHt0ZW1wQm90SWR9YCk7XG4gICAgICAvLyBTZW5kIHRoZSByZXF1ZXN0IHRvIGluaXRpYXRlIHN0cmVhbWluZ1xuICAgICAgLy8gQ3JlYXRlIGEgVVJMIHdpdGggdGhlIG1lc3NhZ2UgYXMgYSBxdWVyeSBwYXJhbWV0ZXIgZm9yIHRoZSBQT1NUIHJlcXVlc3RcbiAgICAgIGNvbnN0IGVuY29kZWRNZXNzYWdlID0gZW5jb2RlVVJJQ29tcG9uZW50KGlucHV0KTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgcHJvcGVyIFVSTCBmb3IgdGhlIEV2ZW50U291cmNlIHRoYXQgaW5jbHVkZXMgdGhlIG1lc3NhZ2VcbiAgICAgIGxldCBldmVudFNvdXJjZVVybCA9IGAvYXBpL2NoYXQtc3RyZWFtP21lc3NhZ2U9JHtlbmNvZGVkTWVzc2FnZX0mdD0ke0RhdGUubm93KCl9YDtcbiAgICAgIGlmICghaXNGaXJzdE1lc3NhZ2VTZW50KSB7XG4gICAgICAgIGV2ZW50U291cmNlVXJsICs9ICcmc3RhcnROZXc9dHJ1ZSc7XG4gICAgICAgIHNldElzRmlyc3RNZXNzYWdlU2VudCh0cnVlKTsgLy8gTWFyayB0aGF0IHRoZSBmaXJzdCBtZXNzYWdlIGhhcyBiZWVuIHNlbnRcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV2ZW50U291cmNlID0gbmV3IEV2ZW50U291cmNlKGV2ZW50U291cmNlVXJsKTtcbiAgICAgIGxldCBjb25uZWN0aW9uVGltZW91dCA9IG51bGw7XG4gICAgICBcbiAgICAgIC8vIFNldCBhIGxvbmdlciB0aW1lb3V0IHRvIGhhbmRsZSBjYXNlcyB3aGVyZSB0aGUgY29ubmVjdGlvbiBtaWdodCBoYW5nXG4gICAgICBjb25uZWN0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3Rpb24gdGltZW91dCAoMzBzKSAtIGNsb3NpbmcgRXZlbnRTb3VyY2VcIik7XG4gICAgICAgIGlmIChldmVudFNvdXJjZS5yZWFkeVN0YXRlICE9PSAyKSB7IC8vIDIgPSBDTE9TRURcbiAgICAgICAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYWNjdW11bGF0ZWQgdGV4dCwgdXNlIGl0XG4gICAgICAgICAgaWYgKGFjY3VtdWxhdGVkVGV4dFJlZi5jdXJyZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyBhY2N1bXVsYXRlZCB0ZXh0ICgke2FjY3VtdWxhdGVkVGV4dFJlZi5jdXJyZW50Lmxlbmd0aH0gY2hhcnMpIGFmdGVyIHRpbWVvdXRgKTtcbiAgICAgICAgICAgIGZpbmFsaXplQm90TWVzc2FnZShhY2N1bXVsYXRlZFRleHRSZWYuY3VycmVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEVycm9yKFwiQ29ubmVjdGlvbiB0aW1lZCBvdXQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldElzU3RyZWFtaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDAwKTsgLy8gMzAgc2Vjb25kIHRpbWVvdXQgLSBnaXZlIGl0IG1vcmUgdGltZVxuICAgICAgXG4gICAgICAvLyBTZXQgdXAgZXZlbnQgaGFuZGxlcnNcbiAgICAgIGV2ZW50U291cmNlLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIENsZWFyIHRoZSB0aW1lb3V0IG9uIGFueSBtZXNzYWdlXG4gICAgICAgICAgaWYgKGNvbm5lY3Rpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNZXNzYWdlIHRpbWVvdXQgKDMwcykgLSBjbG9zaW5nIEV2ZW50U291cmNlXCIpO1xuICAgICAgICAgICAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhY2N1bXVsYXRlZCB0ZXh0LCB1c2UgaXRcbiAgICAgICAgICAgICAgaWYgKGFjY3VtdWxhdGVkVGV4dFJlZi5jdXJyZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgYWNjdW11bGF0ZWQgdGV4dCAoJHthY2N1bXVsYXRlZFRleHRSZWYuY3VycmVudC5sZW5ndGh9IGNoYXJzKSBhZnRlciBtZXNzYWdlIHRpbWVvdXRgKTtcbiAgICAgICAgICAgICAgICBmaW5hbGl6ZUJvdE1lc3NhZ2UoYWNjdW11bGF0ZWRUZXh0UmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKFwiUmVzcG9uc2UgdGltZWQgb3V0LiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldElzU3RyZWFtaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMzAwMDApOyAvLyBSZXNldCB0aW1lb3V0IHRvIDMwIHNlY29uZHNcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coYFJhdyBldmVudCBkYXRhIHJlY2VpdmVkIChsZW5ndGg6ICR7ZXZlbnQuZGF0YS5sZW5ndGh9KTpgLCBldmVudC5kYXRhKTtcbiAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIGV2ZW50IGRhdGE6XCIsIGRhdGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIGV2ZW50IGRhdGE6XCIsIGV2ZW50LmRhdGEsIHBhcnNlRXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnY29udGVudCcgJiYgZGF0YS5jb250ZW50KSB7XG4gICAgICAgICAgICAvLyBBY2N1bXVsYXRlIHRoZSBzdHJlYW1pbmcgdGV4dFxuICAgICAgICAgICAgYWNjdW11bGF0ZWRUZXh0UmVmLmN1cnJlbnQgKz0gZGF0YS5jb250ZW50O1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFJlY2VpdmVkIGNvbnRlbnQgY2h1bmsgKGxlbmd0aDogJHtkYXRhLmNvbnRlbnQubGVuZ3RofSkgZm9yIG1lc3NhZ2UgSUQ6ICR7Y3VycmVudEJvdE1lc3NhZ2VJZFJlZi5jdXJyZW50fWApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEFjY3VtdWxhdGVkIHRleHQgbGVuZ3RoOiAke2FjY3VtdWxhdGVkVGV4dFJlZi5jdXJyZW50Lmxlbmd0aH1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVzdG9yZSBpbmNyZW1lbnRhbCB1cGRhdGVzIGZvciBiZXR0ZXIgVVhcbiAgICAgICAgICAgIHNldFN0cmVhbWluZ1Jlc3BvbnNlKGFjY3VtdWxhdGVkVGV4dFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBtZXNzYWdlIGluY3JlbWVudGFsbHkgZm9yIHZpc3VhbCBmZWVkYmFja1xuICAgICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZE1lc3NhZ2VzID0gcHJldi5tYXAobXNnID0+XG4gICAgICAgICAgICAgICAgbXNnLmlkID09PSBjdXJyZW50Qm90TWVzc2FnZUlkUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhY2N1bXVsYXRlZFRleHRSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICBoYXNFdmVudHM6IGFjY3VtdWxhdGVkVGV4dFJlZi5jdXJyZW50LmluY2x1ZGVzKCfwn5OFJykgfHwgYWNjdW11bGF0ZWRUZXh0UmVmLmN1cnJlbnQuaW5jbHVkZXMoJ/Cfk4YnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA6IG1zZ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVXBkYXRlZCBtZXNzYWdlIGR1cmluZyBzdHJlYW1pbmcsIGxlbmd0aDogJHthY2N1bXVsYXRlZFRleHRSZWYuY3VycmVudC5sZW5ndGh9YCk7XG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkTWVzc2FnZXM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgcHJvY2Vzc2luZyBzdGF0ZSAtIHNob3cgYSBwcm9jZXNzaW5nIGluZGljYXRvclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcm9jZXNzaW5nIHRvb2wgY2FsbHM6XCIsIGRhdGEuY29udGVudCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IGFjY3VtdWxhdGVkIHRleHQgYmVmb3JlIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUZXh0ID0gYWNjdW11bGF0ZWRUZXh0UmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgIHByZXYubWFwKG1zZyA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0ZWQgbWVzc2FnZSB3aXRoIHByb2Nlc3Npbmcgc3RhdGVcIik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgbXNnLmlkID09PSBjdXJyZW50Qm90TWVzc2FnZUlkUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5tc2csXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjdXJyZW50VGV4dCArIFwiXFxuXFxu4pqZ77iPIFwiICsgKGRhdGEuY29udGVudCB8fCBcIlByb2Nlc3NpbmcuLi5cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Byb2Nlc3Npbmc6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogbXNnXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChzdGF0ZUVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBtZXNzYWdlIHN0YXRlIGZvciBwcm9jZXNzaW5nOlwiLCBzdGF0ZUVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgIC8vIFN0cmVhbWluZyBjb21wbGV0ZWRcbiAgICAgICAgICAgIC8vIEZpbmFsaXplIHRoZSBib3QgbWVzc2FnZVxuICAgICAgICAgICAgY29uc29sZS5sb2coYEVuZCBldmVudCByZWNlaXZlZCB3aXRoIGFjY3VtdWxhdGVkIHRleHQgbGVuZ3RoOiAke2FjY3VtdWxhdGVkVGV4dFJlZi5jdXJyZW50Lmxlbmd0aH1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBubyBhY2N1bXVsYXRlZCB0ZXh0IGJ1dCB3ZSdyZSBnZXR0aW5nIGFuIGVuZCBldmVudCxcbiAgICAgICAgICAgIC8vIHRoaXMgbWlnaHQgYmUgYWZ0ZXIgYSB0b29sIGNhbGwgd2hlcmUgdGhlIGNvbm5lY3Rpb24gd2FzIHJlc2V0XG4gICAgICAgICAgICBpZiAoYWNjdW11bGF0ZWRUZXh0UmVmLmN1cnJlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRW5kIGV2ZW50IHJlY2VpdmVkIHdpdGggbm8gYWNjdW11bGF0ZWQgdGV4dCAtIHBvc3NpYmxlIHRvb2wgY2FsbCBpc3N1ZVwiKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSBwZW5kaW5nIG1lc3NhZ2UgdGhhdCdzIGluIHByb2Nlc3Npbmcgc3RhdGVcbiAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudE1zZyA9IHByZXYuZmluZChtID0+IG0uaWQgPT09IGN1cnJlbnRCb3RNZXNzYWdlSWRSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRNc2cgJiYgY3VycmVudE1zZy5pc1Byb2Nlc3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm91bmQgbWVzc2FnZSBpbiBwcm9jZXNzaW5nIHN0YXRlLCBrZWVwaW5nIGl0IHZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcHJldi5tYXAobSA9PiBcbiAgICAgICAgICAgICAgICAgICAgbS5pZCA9PT0gY3VycmVudEJvdE1lc3NhZ2VJZFJlZi5jdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG0udGV4dCB8fCBcIlByb2Nlc3NpbmcgeW91ciByZXF1ZXN0Li4uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzU3RyZWFtaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQcm9jZXNzaW5nOiB0cnVlIC8vIEtlZXAgcHJvY2Vzc2luZyBpbmRpY2F0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IG1cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIERvbid0IGNsb3NlIHRoZSBjb25uZWN0aW9uIHlldCwgd2FpdCBmb3IgbW9yZSBkYXRhXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSWdub3JpbmcgcHJlbWF0dXJlIGVuZCBldmVudCwgd2FpdGluZyBmb3IgbW9yZSBkYXRhXCIpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAvLyBDbGVhciBhbnkgcGVuZGluZyB0aW1lb3V0XG4gICAgICAgICAgIGlmIChjb25uZWN0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICBjb25uZWN0aW9uVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVzZSBvdXIgaGVscGVyIGZ1bmN0aW9uIHRvIGZpbmFsaXplIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICBmaW5hbGl6ZUJvdE1lc3NhZ2UoYWNjdW11bGF0ZWRUZXh0UmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgIC8vIENsb3NlIHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5jb250ZW50IHx8ICdFcnJvciBpbiBzdHJlYW1pbmcgcmVzcG9uc2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc3RyZWFtIGRhdGE6JywgZXJyKTtcbiAgICAgICAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIGFueSBwZW5kaW5nIHRpbWVvdXRcbiAgICAgICAgICBpZiAoY29ubmVjdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgICAgICBjb25uZWN0aW9uVGltZW91dCA9IG51bGw7XG4gICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0RXJyb3IoXCJPb3BzISBTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoZSBzdHJlYW1pbmcgcmVzcG9uc2UuXCIpO1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgc2V0SXNTdHJlYW1pbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICBldmVudFNvdXJjZS5vbmVycm9yID0gKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFdmVudFNvdXJjZSBlcnJvcjonLCBlcnIpO1xuICAgICAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYXIgYW55IHBlbmRpbmcgdGltZW91dFxuICAgICAgICBpZiAoY29ubmVjdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhY2N1bXVsYXRlZCB0ZXh0LCB1c2UgaXQgZGVzcGl0ZSB0aGUgZXJyb3JcbiAgICAgICAgaWYgKGFjY3VtdWxhdGVkVGV4dFJlZi5jdXJyZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgYWNjdW11bGF0ZWQgdGV4dCAoJHthY2N1bXVsYXRlZFRleHRSZWYuY3VycmVudC5sZW5ndGh9IGNoYXJzKSBhZnRlciBjb25uZWN0aW9uIGVycm9yYCk7XG4gICAgICAgICAgZmluYWxpemVCb3RNZXNzYWdlKGFjY3VtdWxhdGVkVGV4dFJlZi5jdXJyZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRFcnJvcihcIkNvbm5lY3Rpb24gZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgc2V0SXNTdHJlYW1pbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcihcIk9vcHMhIFNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICBzZXRJc1N0cmVhbWluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmaW5hbGl6ZSB0aGUgYm90IG1lc3NhZ2Ugd2l0aCB0aGUgYWNjdW11bGF0ZWQgdGV4dFxuICBjb25zdCBmaW5hbGl6ZUJvdE1lc3NhZ2UgPSAodGV4dCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBGaW5hbGl6aW5nIGJvdCBtZXNzYWdlIHdpdGggdGV4dCBsZW5ndGg6ICR7dGV4dC5sZW5ndGh9YCk7XG4gICAgXG4gICAgLy8gU3RvcmUgdGhlIHRleHQgaW4gYSBsb2NhbCB2YXJpYWJsZSB0byBhdm9pZCBjbG9zdXJlIGlzc3Vlc1xuICAgIGNvbnN0IGZpbmFsVGV4dCA9IHRleHQ7XG5cbiAgICAvLyBBZGQgYSBkZWxheSBiZWZvcmUgZmluYWxpemluZyB0byBlbnN1cmUgYWxsIGNodW5rcyBhcmUgcmVjZWl2ZWRcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIElmIHdlIGhhdmUgdGV4dCwgdXNlIGl0XG4gICAgICBpZiAoZmluYWxUZXh0ICYmIGZpbmFsVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbWVzc2FnZSB3aXRoIHRoZSBmaW5hbCB0ZXh0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBcbiAgICAgICAgICAgIHByZXYubWFwKG1zZyA9PiBcbiAgICAgICAgICAgICAgbXNnLmlkID09PSBjdXJyZW50Qm90TWVzc2FnZUlkUmVmLmN1cnJlbnQgXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogZmluYWxUZXh0LFxuICAgICAgICAgICAgICAgICAgICBpc1N0cmVhbWluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGlzUHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGhhc0V2ZW50czogZmluYWxUZXh0LmluY2x1ZGVzKCfwn5OFJykgfHwgZmluYWxUZXh0LmluY2x1ZGVzKCfwn5OGJylcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG1zZ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJTdWNjZXNzZnVsbHkgdXBkYXRlZCBtZXNzYWdlIHdpdGggZmluYWwgdGV4dFwiKTtcbiAgICAgICAgfSBjYXRjaCAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgbWVzc2FnZSB3aXRoIGZpbmFsIHRleHQ6XCIsIHVwZGF0ZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSB0ZXh0LCBzaG93IGFuIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFxuICAgICAgICAgICAgcHJldi5tYXAobXNnID0+IFxuICAgICAgICAgICAgICBtc2cuaWQgPT09IGN1cnJlbnRCb3RNZXNzYWdlSWRSZWYuY3VycmVudCBcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubXNnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIk5vIHJlc3BvbnNlIHJlY2VpdmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgICAgICAgICAgICAgICBpc1N0cmVhbWluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGlzUHJvY2Vzc2luZzogZmFsc2VcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG1zZ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJVcGRhdGVkIG1lc3NhZ2Ugd2l0aCAnTm8gcmVzcG9uc2UgcmVjZWl2ZWQnXCIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvclVwZGF0ZUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIG1lc3NhZ2Ugd2l0aCBlcnJvciB0ZXh0OlwiLCBlcnJvclVwZGF0ZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdGVcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICBzZXRJc1N0cmVhbWluZyhmYWxzZSk7XG4gICAgfSwgMzAwMCk7IC8vIEFkZCBhIDMtc2Vjb25kIGRlbGF5IGJlZm9yZSBmaW5hbGl6aW5nXG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIHNldElucHV0KGUudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlbmRNZXNzYWdlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFNjcm9sbCB0byBib3R0b20gd2hlbiBuZXcgbWVzc2FnZXMgYXJyaXZlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNoYXRCb3hSZWYuY3VycmVudCkge1xuICAgICAgY2hhdEJveFJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IGNoYXRCb3hSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuICB9LCBbbWVzc2FnZXMsIGlzTG9hZGluZywgZXJyb3JdKTtcblxuXG4gIC8vIFNob3cgbG9hZGluZyBzdGF0ZSB3aGlsZSBjaGVja2luZyBhdXRoZW50aWNhdGlvblxuICBpZiAoc3RhdHVzID09PSAnbG9hZGluZycpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBoLXNjcmVlbiB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgIExvYWRpbmcuLi5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbiAgXG4gIC8vIElmIG5vdCBhdXRoZW50aWNhdGVkLCBkb24ndCByZW5kZXIgYW55dGhpbmcgKHdpbGwgcmVkaXJlY3QgdG8gbG9naW4pXG4gIGlmIChzdGF0dXMgPT09ICd1bmF1dGhlbnRpY2F0ZWQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgaC1zY3JlZW4gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICBSZWRpcmVjdGluZyB0byBsb2dpbi4uLlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuICBcbiAgLy8gT25seSByZW5kZXIgdGhlIGNoYXQgVUkgaWYgYXV0aGVudGljYXRlZFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNVwiPiB7LyogQ29udGFpbmVyIGZvciBjaGF0IGludGVyZmFjZSAqL31cbiAgICAgIHsvKiBIYW1idXJnZXIgbWVudSB3aXRoIHByb2ZpbGUgcGljdHVyZSBhbmQgR29vZ2xlIGFjY291bnQgbmFtZSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbWItNCBwLTIgYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctc21cIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwIHRleHQteGwgbXItM1wiPlxuICAgICAgICAgIDxGaU1lbnUgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICB7c2Vzc2lvbj8udXNlciAmJiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgc3JjPXtzZXNzaW9uLnVzZXIuaW1hZ2V9XG4gICAgICAgICAgICAgICAgYWx0PVwiUHJvZmlsZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgbXItMlwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgIHtzZXNzaW9uLnVzZXIubmFtZX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHsvKiBTdHlsZXMgcHJldmlvdXNseSBmcm9tICNjaGF0LWJveCAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtjaGF0Qm94UmVmfVxuICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCByb3VuZGVkLTJ4bCBwLTUgbWF4LWgtWzMwMHB4XSBtaW4taC1bMTAwcHhdIG92ZXJmbG93LXktYXV0byBtYi00IGJvcmRlciBib3JkZXItZ3JheS0yMDBcIiAvLyBBZGRlZCBib3JkZXJcbiAgICAgID5cbiAgICAgICAge21lc3NhZ2VzLmxlbmd0aCA9PT0gMCAmJiAhaXNMb2FkaW5nICYmICFlcnJvciAmJiAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5Bc2sgbWUgdG8gbWFuYWdlIHlvdXIgY2FsZW5kYXIgZXZlbnRzITwvcD5cbiAgICAgICAgKX1cbiAgICAgICAge21lc3NhZ2VzLm1hcCgobXNnKSA9PiAoXG4gICAgICAgICAgICAvLyBTdHlsZXMgcHJldmlvdXNseSBmcm9tIC5tZXNzYWdlIGFuZCBzcGVjaWZpYyB0eXBlc1xuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17bXNnLmlkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1iLTMgcC0zIHJvdW5kZWQteGwgbWF4LXctWzgwJV0gYnJlYWstd29yZHMgJHtcbiAgICAgICAgICAgICAgICAgICAgbXNnLnNlbmRlciA9PT0gJ3VzZXInXG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNTAwIHRleHQtd2hpdGUgbWwtYXV0bycgLy8gLnVzZXIgc3R5bGVzXG4gICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktNjAwIHRleHQtd2hpdGUgbXItYXV0bycgLy8gLmJvdCBzdHlsZXMgXG4gICAgICAgICAgICAgICAgfSAke21zZy5pc1N0cmVhbWluZyA/ICdib3JkZXItbC00IGJvcmRlci15ZWxsb3ctNDAwJyA6ICcnfSAke21zZy5pc1Byb2Nlc3NpbmcgPyAnYm9yZGVyLWwtNCBib3JkZXItYmx1ZS00MDAnIDogJyd9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bXNnLmhhc0V2ZW50cyA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aGl0ZXNwYWNlLXByZS13cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLnRleHQuc3BsaXQoJ1xcbicpLm1hcCgobGluZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT17YCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUuc3RhcnRzV2l0aCgn8J+ThScpIHx8IGxpbmUuc3RhcnRzV2l0aCgn8J+ThicpID8gJ2ZvbnQtYm9sZCcgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xpbmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaXNTdHJlYW1pbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayB3LTIgaC00IG1sLTEgYmcteWVsbG93LTQwMCBhbmltYXRlLXB1bHNlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaXNQcm9jZXNzaW5nICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtYmxvY2sgdy0yIGgtNCBtbC0xIGJnLWJsdWUtNDAwIGFuaW1hdGUtcHVsc2VcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaXNTdHJlYW1pbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayB3LTIgaC00IG1sLTEgYmcteWVsbG93LTQwMCBhbmltYXRlLXB1bHNlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaXNQcm9jZXNzaW5nICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtYmxvY2sgdy0yIGgtNCBtbC0xIGJnLWJsdWUtNDAwIGFuaW1hdGUtcHVsc2VcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuXG4gICAgICAgICB7LyogTG9hZGluZyBJbmRpY2F0b3IgaW5zaWRlIGNoYXRib3ggKi99XG4gICAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICAgICAgLy8gU3R5bGVzIHByZXZpb3VzbHkgZnJvbSAubG9hZGluZyBhbmQgLmRvdFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktc3RhcnQgaXRlbXMtY2VudGVyIGgtMTAgbXktMlwiPlxuICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0xLjUgcC0yIGJnLWdyYXktNjAwIHJvdW5kZWQtZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLXdoaXRlIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZSBbYW5pbWF0aW9uLWRlbGF5Oi0wLjNzXVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy0yIGgtMiBiZy13aGl0ZSByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2UgW2FuaW1hdGlvbi1kZWxheTotMC4xNXNdXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLXdoaXRlIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogRXJyb3IgbWVzc2FnZSBpbnNpZGUgY2hhdGJveCAqL31cbiAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgICAvLyBTdHlsZXMgcHJldmlvdXNseSBmcm9tIC5lcnJvclxuICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMyBwLTMgcm91bmRlZC14bCBtYXgtdy1bODAlXSBiZy1yZWQtNTAwIHRleHQtd2hpdGUgbXgtYXV0byB0ZXh0LWNlbnRlciB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogU3R5bGVzIHByZXZpb3VzbHkgZnJvbSAuaW5wdXQtY29udGFpbmVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCBwLTIgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIHRyYW5zaXRpb24tc2hhZG93IGR1cmF0aW9uLTMwMCBmb2N1cy13aXRoaW46cmluZy0yIGZvY3VzLXdpdGhpbjpyaW5nLWJsdWUtNTAwIGJvcmRlciBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgey8qIFN0eWxlcyBwcmV2aW91c2x5IGZyb20gaW5wdXQgKi99XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFzayBhYm91dCB5b3VyIGNhbGVuZGFyLi4uXCJcbiAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXRyYW5zcGFyZW50IGJvcmRlci1ub25lIHRleHQtZ3JheS04MDAgZmxleC1ncm93IHRleHQtYmFzZSBwLTIgb3V0bGluZS1ub25lIHBsYWNlaG9sZGVyLWdyYXktNTAwIGRpc2FibGVkOm9wYWNpdHktNjBcIlxuICAgICAgICAvPlxuICAgICAgICB7LyogU3R5bGVzIHByZXZpb3VzbHkgZnJvbSAuc2VuZC1pY29uICovfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17c2VuZE1lc3NhZ2V9XG4gICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCAhaW5wdXQudHJpbSgpfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtMnhsIHAtMiByb3VuZGVkLWZ1bGwgdGV4dC1ibHVlLTUwMCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDAgaG92ZXI6c2NhbGUtMTEwIGhvdmVyOmJnLWJsdWUtMTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1ibHVlLTUwMCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpob3ZlcjpzY2FsZS0xMDAgZGlzYWJsZWQ6aG92ZXI6YmctdHJhbnNwYXJlbnRcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJTZW5kIG1lc3NhZ2VcIlxuICAgICAgICA+XG4gICAgICAgICAgPEZpU2VuZCAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhdDtcblxuLy8gQWRkIHNlcnZlci1zaWRlIGF1dGhlbnRpY2F0aW9uIGNoZWNrXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKGNvbnRleHQpIHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oY29udGV4dC5yZXEsIGNvbnRleHQucmVzLCBhdXRoT3B0aW9ucyk7XG4gIFxuICAvLyBJZiBubyBzZXNzaW9uIGV4aXN0cywgcmVkaXJlY3QgdG8gaG9tZSBwYWdlXG4gIGlmICghc2Vzc2lvbikge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBkZXN0aW5hdGlvbjogJy8nLFxuICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIFxuICAvLyBJZiBzZXNzaW9uIGV4aXN0cywganVzdCByZXR1cm4gZW1wdHkgcHJvcHNcbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge30sXG4gIH07XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJGaVNlbmQiLCJGaU1lbnUiLCJ1c2VTZXNzaW9uIiwidXNlUm91dGVyIiwiQ2hhdCIsImRhdGEiLCJzZXNzaW9uIiwic3RhdHVzIiwicm91dGVyIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlucHV0Iiwic2V0SW5wdXQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiY2hhdEJveFJlZiIsImN1cnJlbnRCb3RNZXNzYWdlSWRSZWYiLCJhY2N1bXVsYXRlZFRleHRSZWYiLCJpc0ZpcnN0TWVzc2FnZVNlbnQiLCJzZXRJc0ZpcnN0TWVzc2FnZVNlbnQiLCJwdXNoIiwic3RyZWFtaW5nUmVzcG9uc2UiLCJzZXRTdHJlYW1pbmdSZXNwb25zZSIsImlzU3RyZWFtaW5nIiwic2V0SXNTdHJlYW1pbmciLCJzZW5kTWVzc2FnZSIsInRyaW0iLCJuZXdVc2VyTWVzc2FnZSIsImlkIiwiRGF0ZSIsIm5vdyIsInRleHQiLCJzZW5kZXIiLCJwcmV2IiwiY3VycmVudCIsInRlbXBCb3RJZCIsImNvbnNvbGUiLCJsb2ciLCJlbmNvZGVkTWVzc2FnZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImV2ZW50U291cmNlVXJsIiwiZXZlbnRTb3VyY2UiLCJFdmVudFNvdXJjZSIsImNvbm5lY3Rpb25UaW1lb3V0Iiwic2V0VGltZW91dCIsInJlYWR5U3RhdGUiLCJjbG9zZSIsImxlbmd0aCIsImZpbmFsaXplQm90TWVzc2FnZSIsIm9ubWVzc2FnZSIsImV2ZW50IiwiY2xlYXJUaW1lb3V0IiwiSlNPTiIsInBhcnNlIiwicGFyc2VFcnJvciIsInR5cGUiLCJjb250ZW50IiwidXBkYXRlZE1lc3NhZ2VzIiwibWFwIiwibXNnIiwiaGFzRXZlbnRzIiwiaW5jbHVkZXMiLCJjdXJyZW50VGV4dCIsImlzUHJvY2Vzc2luZyIsInN0YXRlRXJyb3IiLCJjdXJyZW50TXNnIiwiZmluZCIsIm0iLCJFcnJvciIsImVyciIsIm9uZXJyb3IiLCJmaW5hbFRleHQiLCJ1cGRhdGVFcnJvciIsImVycm9yVXBkYXRlRXJyb3IiLCJoYW5kbGVJbnB1dENoYW5nZSIsImUiLCJ0YXJnZXQiLCJ2YWx1ZSIsImhhbmRsZUtleURvd24iLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0Iiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwidXNlciIsImltZyIsInNyYyIsImltYWdlIiwiYWx0Iiwic3BhbiIsIm5hbWUiLCJyZWYiLCJwIiwic3BsaXQiLCJsaW5lIiwiaW5kZXgiLCJzdGFydHNXaXRoIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsIm9uS2V5RG93biIsImRpc2FibGVkIiwib25DbGljayIsImFyaWEtbGFiZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/chat.js\n"));

/***/ })

});